// Generated by CoffeeScript 1.3.3
(function() {
  var __slice = [].slice;

  (function(exports) {
    var _mash;
    _mash = function() {
      var mash, n;
      n = 0xefc8249d;
      mash = function(data) {
        var h, i, _i, _ref;
        data = data.toString();
        for (i = _i = 0, _ref = data.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
          n += data.charCodeAt(i);
          h = 0.02519603282416938 * n;
          n = h >>> 0;
          h -= n;
          h *= n;
          n = h >>> 0;
          h -= n;
          n += h * 0x100000000;
        }
        return (n >>> 0) * 2.3283064365386963e-10;
      };
      mash.version = 'Mash 0.9';
      return mash;
    };
    exports.alea_random = function() {
      return (function(seeds) {
        var c, mash, random, s0, s1, s2, seed, _i, _len;
        if (seeds == null) {
          seeds = [+new Date()];
        }
        s0 = 0;
        s1 = 0;
        s2 = 0;
        c = 1;
        mash = _mash();
        s0 = mash(' ');
        s1 = mash(' ');
        s2 = mash(' ');
        for (_i = 0, _len = seeds.length; _i < _len; _i++) {
          seed = seeds[_i];
          s0 -= mash(seed);
          if (s0 < 0) {
            s0 += 1;
          }
          s1 -= mash(seed);
          if (s1 < 0) {
            s1 += 1;
          }
          s2 -= mash(seed);
          if (s2 < 0) {
            s2 += 1;
          }
        }
        mash = null;
        random = function() {
          var t;
          t = 2091639 * s0 + c * 2.3283064365386963e-10;
          s0 = s1;
          s1 = s2;
          return s2 = t - (c = t | 0);
        };
        random.range = function(min, max) {
          return Math.round(random() * (max - min) + min);
        };
        random.choice = function(array) {
          return array[random.range(0, array.length - 1)];
        };
        random.uint32 = function() {
          return random() * 0x100000000;
        };
        random.fract53 = function() {
          return random() + (random() * 0x200000 | 0) * 1.1102230246251565e-16;
        };
        random.version = 'Alea 0.9';
        random.seeds = seeds;
        return random;
      })(__slice.call(arguments));
    };
  })(typeof global === "undefined" ? window : module.exports);

}).call(this);
